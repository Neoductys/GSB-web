<!DOCTYPE html>
<html>
  <head>
    <title>Les paramètres de l'API / Librairie PHP pour l'API EnvoiMoinsCher</title>
    <meta charset="utf-8">
    <style type="text/css">
      #CONTAINER {width:750px; margin:0px auto; display:block;}
      code {width:700px; display:block; background: #d7d7d7; padding:10px;}
      ul.code li {padding-left:5px; list-style-type: none;}
      table {border-collapse: collapse;}
      table thead td {background: #d7d7d7; font-weight:bold;}
      table td {border:1px solid #000000; padding:3px; vertical-align:top;}
    </style>
  </head>
  <body>
    <div id="CONTAINER">
      <p>Ce document a pour but de présenter les paramètres utilisés lors de l'interaction avec l'API <a href="http://www.envoimoinscher.com">EnvoiMoinsCher.com</a>.</p>
      <p>Pour plus d'informations sur les paramètres, la description des classes, veuillez-vous référer <a href="documentation">à la documentation de la librairie</a>, <a href="index.html">au quick start</a> <!-- et <a href="#" target="_blank">de l'API</a>-->.</p>
      <p><b>Les options</b></p>
      <table>
        <thead><tr><td>Nom de l'option</td><td>Nom du paramètre</td><td>Description</td></tr></thead>
        <tbody>
          <tr>
            <td>Assurance AXA</td>
            <td>assurance</td>
            <td>Afin que l'assurance proposée par EnvoiMoinsCher soit prise en compte, veuillez renseigner également les paramètres suivants : <br />
              - assurance.selection (true) - si true, l'assurance sera prise en compte (et soumise à une validation)
              <br />- assurance.emballage - le type d'emballage utilisé (choix disponibles : Boîte, Caisse, Bac, Emballage isotherme, Etui, Malle, Sac, Tube)
              <br />- assurance.materiau - le matériau utilisé (choix disponibles : Carton, Bois, Carton blindé, Film opaque, Film transparent, Métal, Papier, Papier armé, Plastique et carton, Plastique, Plastique opaque, Plastique transparent, Polystyrène)
              <br />- assurance.protection - la protection intérieure utilisée (choix disponibles : Sans protection particulière, Calage papier, Bulles plastiques, Carton antichoc, Coussin air, Coussin mousse, Manchon carton (bouteille), Manchon mousse (bouteille), Matelassage, Plaque mousse, Polystyrène, Coussin de calage, Sachet bulles)
              <br />- assurance.fermeture - la fermeture utilisée (choix disponibles : Fermeture autocollante, Ruban adhésif, Agrafes, Clous, Collage, Ruban de cerclage, Sangle ou feuillard, Agraphes et cerclage, Clous et cerclage)
              <br />- assurance.fixation - la fixation utilisée (choix disponibles : Sans système de stabilisation, Film transparent, Film opaque, Film opaque et sangles, Film transparent et sangles, Sangle ou feuillard uniquement)
              <br />- assurance.nombre - le nombre des colis sur la palette (int, uniquement pour l'envoi d'une palette)
            </td>
          </tr>
          <tr>
            <td>Contre-remboursement</td>
            <td>contre-remboursement</td>
            <td>Cette option permet au destinataire de payer la valeur réelle du produit à sa réception (c'est le livreur qui
              collecte la somme qui sera ensuite reversée au vendeur de l'objet). Le paramètre à passer dans le tableau
              <br />avec les options est <i>contre-remboursement.valeur</i> (float). Il signifie la valeur attendue du contre-remboursement . Il faut
              également passer <i>contre-remboursement.selection</i> (bool) en true.
            </td>
          </tr>
          <tr>
            <td>Date impérative de livraison</td>
            <td>livraison_imperative</td>
            <td>Ce paramètre signifie la date à laquelle votre colis doit forcément être livré. Dans le tableau des options il est représenté par <i>livraison_imperative.DIL</i> (string - la date en format d-m-Y; <a href="http://fr.php.net/manual/en/function.date.php" target="_blank">voir plus sur date() en PHP</a>)</td>
          </tr>
          <tr>
            <td>Description de l'envoi</td>
            <td><em>objet</em>.description</td>
            <td>Le paramètre est demandé pour l'assurance AXA. Il se traduit par <i>description</i> (string). <em>Objet</em> veut dire le type d'envoi (colis, palette, encombrant, pli)</td>
          </tr>
          <tr>
            <td>Disponibilité pour l'enlèvement du colis</td>
            <td>disponibilite</td>
            <td>Certains transporteurs exigent cette information : la disponibilité de l'expéditeur à l'enlèvement et celle du destinataire pour la livraison de l'envoi. Dans ce cas vous êtes amené à passer les 
              paramètres suivants : 
              <br />- <i>disponibilite.HDE</i> (string; date en format H:i; <a href="http://fr.php.net/manual/en/function.date.php" target="_blank">voir plus sur date() en PHP</a>) : signifie la disponibilité pour l'enlèvement
              <br />- <i>disponibilite.HLE</i> (string; date en format H:i; <a href="http://fr.php.net/manual/en/function.date.php" target="_blank">voir plus sur date() en PHP</a>) : signifie la disponibilité pour la livraison
            </td>
          </tr>
          <tr>
            <td>Point de proximité pour le dépôt</td>
            <td>depot</td>
            <td>Si vous avez choisi un transporteur dont le départ s'effectue par un
            dépôt en point de proximité, vous devez spécifier ce paramètre : <i>depot.pointrelais</i> (string, l'identifiant du point).</td>
          </tr> 
          <tr>
            <td>Point de proximité pour le retrait</td>
            <td>retrait</td>
            <td>Si vous avez choisi un transporteur dont la livraison s'effectue par
            un retrait en point de proximité, vous devez spécifier ce paramètre : <i>retrait.pointrelais</i> (string, l'identifiant du point).
            <br /><br />Vous pouvez laisser le destinataire de choisir le point relais dans lequel 
            il va retirer son envoi. Pour faire cela, passez les deux paramètres : "retrait.pointrelais" => "differe", "retrait.choix_differe" => true
            </td>
          </tr>
          <tr>
            <td>Valeur déclarée du contenu</td>
            <td><em>objet</em>.valeur</td>
            <td>La valeur du contenu de l'envoi. <em>Objet</em> veut dire le type d'envoi (colis, palette, encombrant, pli) (float).</td>
          </tr> 
					<tr>
						<td>Type d'emballage</td>
						<td>type_emballage</td>
						<td>Le type d'emballage de l'envoi nécessaire pour l'offre Colissimo. Il faut passer le paramètre "type_emballage.emballage", les options possible étant données par une cotation.</td>
					</tr>
        </tbody>
      </table>
      <p><b>Les paramètres expéditeur/destinataire</b></p>
      <table>
        <thead><tr><td>Nom de l'option</td><td>Nom du paramètre</td><td>Type</td><td>Description</td></tr></thead>
        <tbody>
          <tr>
            <td>Adresse</td>
            <td>adresse</td>
            <td>obligatoire</td>
            <td>L'adresse (la rue, l'étage, le numéro de chambre...) de la personne. Vous avez la possibilité d'indiquer au maximum 3 lignes pour tous les transporteurs sauf TNT. Pour TNT le nombre des lignes maximal est 2.<br />
              Pour passer une adresse composée de plusieurs lignes, veuillez utiliser le séparateur |. Pour un logement 200 situé à la rue Inconnue on aura donc : "1, rue Inconnue | logement 200".
              <br />Chaque ligne accepte la valeur d'une longueur de 30 caractères.
            </td>
          </tr>
          <tr>
            <td>Adresse e-mail</td>
            <td>email</td>
            <td>obligatoire</td>
            <td>L'adresse e-mail de la personne, utilisée pour l'envoi des documents (factures, bordereaux...).</td>
          </tr>
          <tr>
            <td>Civilité</td>
            <td>civilite</td>
            <td>obligatoire</td>
            <td>La civilité de la personne (M, Mme, Mlle)</td>
          </tr> 
          <tr>
            <td>Code postal</td>
            <td>code_postal</td>
            <td>obligatoire</td>
            <td>Le code postal de l'expéditeur ou du destinataire.</td>
          </tr>
          <tr>
            <td>Entreprise</td>
            <td>entreprise</td>
            <td>obligatoire si type = entreprise</td>
            <td>Si la personne possède un statut professionnel, vous devez indiquer le nom de l'entreprise en question.</td>
          </tr>
          <tr>
            <td>Informations complémentaires</td>
            <td>infos</td>
            <td>obligatoire</td>
            <td>Les informations complémentaires qui aideront le livreur à effectuer l'enlèvement ou la livraison (code, nom sur l'interphone, instructions, etc.).</td>
          </tr>  
          <tr>
            <td>Nom</td>
            <td>nom</td>
            <td>obligatoire</td>
            <td>Le nom de l'expéditeur ou du destinataire.</td>
          </tr>
          <tr>
            <td>Numéro de téléphone</td>
            <td>tel</td>
            <td>obligatoire</td>
            <td>Le numéro de téléphone auquel vous serez joignable par notre service client et par le transporteur (p.ex.: pour demander votre disponibilité).<br />
              Si vous ne connaissez pas le numéro de téléphone du destinataire, saisissez celui de l'expéditeur.
            </td>
          </tr>  
          <tr>
            <td>Pays</td>
            <td>pays</td>
            <td>obligatoire</td>
            <td>Le pays de la personne représenté par le code ISO. L'expéditeur ne peut prendre comme valeur que "FR".</td>
          </tr> 
          <tr>
            <td>Prénom</td>
            <td>prenom</td>
            <td>obligatoire</td>
            <td>Le prénom de l'expéditeur ou du destinataire.</td>
          </tr> 
          <tr>
            <td>Type</td>
            <td>type</td>
            <td>obligatoire</td>
            <td>Le statut de la personne : particulier ou entreprise.</td>
          </tr>    
          <tr>
            <td>Ville</td>
            <td>ville</td>
            <td>obligatoire</td>
            <td>La ville de la personne.</td>
          </tr>   
        </tbody>
      </table>
      <p><b>Les paramètres de l'envoi (colis, pli, encombrant, palette)</b></p>
      <table>
        <thead><tr><td>Nom de l'option</td><td>Nom du paramètre</td><td>Type</td><td>Description</td></tr></thead>
        <tbody>
          <tr>
            <td>Hauteur</td>
            <td>hauteur</td>
            <td>obligatoire</td>
            <td>La hauteur de votre envoi, exprimé en cm.</td>
          </tr> 
          <tr>
            <td>Largeur</td>
            <td>largeur</td>
            <td>obligatoire</td>
            <td>La largeur de votre envoi, exprimée en cm.</td>
          </tr>  
          <tr>
            <td>Longueur</td>
            <td>longueur</td>
            <td>obligatoire</td>
            <td>La longueur de votre envoi, exprimée en cm.</td>
          </tr> 
          <tr>
            <td>Longueur de la palette</td>
            <td>palletDims</td>
            <td>obligatoire si l'envoi = palette</td>
            <td>Veuillez vous référer au tableau $palletDims placé dans la classe Env_Quotation pour connaître les paramètres acceptés.</td>
          </tr> 
          <tr>
            <td>Nombre</td>
            <td>nombre</td>
            <td>facultatif</td>
            <td>Le paramètre qui indique le nombre de colis à expédier. Il est facultatif. Si vous ne le passez pas, il prendra 1 pour valeur.</td>
          </tr> 
          <tr>
            <td>Poids</td>
            <td>poids</td>
            <td>obligatoire</td>
            <td>Le poids de votre envoi, exprimé en kg.</td>
          </tr> 
        </tbody>
      </table>
      <p><b>Les paramètres de la cotation et de la commande</b></p>
      <table>
        <thead><tr><td>Nom de l'option</td><td>Nom du paramètre</td><td>Type</td><td>Description</td></tr></thead>
        <tbody>
          <tr>
            <td>Catégorie de contenu</td>
            <td>code_contenu</td>
            <td>obligatoire</td>
            <td>Le code de la catégorie de contenu.</td>
          </tr>   
          <tr>
            <td>Date d'enlèvement</td>
            <td>collecte</td>
            <td>obligatoire</td>
            <td>La date d'enlèvement souhaitée, en format Y-m-d (<a href="http://fr.php.net/manual/en/function.date.php" target="_blank">voir plus sur date() en PHP</a>).</td>
          </tr> 
          <tr>
            <td>Information externe</td>
            <td>reference_externe</td>
            <td>facultatif</td>
            <td>Dans ce paramètre vous pouvez passer une information quiservira à identifier la commande
            d'achat sur votre e-boutique, puis à la relier à sa commande de livraison EnvoiMoinsCher.</td>
          </tr> 
          <tr>
            <td>Délai</td>
            <td>delai</td>
            <td>obligatoire</td>
            <td>Il prend comme valeur : <br />
              - aucun : offres de transport triées par prix décroissant<br /> 
              - course : offres de course avec livraison dans la journée<br />
            </td>
          </tr> 
          <tr>
            <td>Prix exact en HT</td>
            <td>prix_exact_ht</td>
            <td>facultatif</td>
            <td>Le prix exact en HT pour la sélection d'offres ou la passation de commande. Exprimé en €.</td>
          </tr> 
          <tr>
            <td>Prix exact TTC</td>
            <td>prix_exact_ttc</td>
            <td>facultatif</td>
            <td>Le prix exact en TTC pour la sélection d'offres ou la passation de commande. Exprimé en €.</td>
          </tr>   
          <tr>
            <td>Prix maximal HT</td>
            <td>prix_max_ht</td>
            <td>facultatif</td>
            <td>Le prix maximal en HT pour la sélection d'offres ou la passation de commande. Exprimé en €.</td>
          </tr> 
          <tr>
            <td>Prix maximal TTC</td>
            <td>prix_max_ttc</td>
            <td>facultatif</td>
            <td>Le prix maximal en TTC pour la sélection d'offres ou la passation de commande. Exprimé en €.</td>
          </tr>  
          <tr>
            <td>Service</td>
            <td>service</td>
            <td>facultatif</td>
            <td>Le nom du service (de l'offre) que vous souhaitez commander.</td>
          </tr> 
          <tr>
            <td>Transporteur</td>
            <td>operateur</td>
            <td>facultatif</td>
            <td>Le code du transporteur que vous avez choisi pour votre envoi. Si vous ne l'indiquez pas : <br />
              - dans la cotation vous recevrez toutes les offres de transport<br />
              - vous allez commander la 1ère offre correspondant au paramète <i>delai</i> dans votre commande
            </td>
          </tr> 
          <tr>
            <td>URL de suivi</td>
            <td>url_tracking</td>
            <td>facultatif</td>
            <td>La page (sur votre serveur) qui va intercepter l'état de vos commandes. <a href="suivi.html">en savoir plus</a>
            </td>
          </tr> 
        </tbody>
      </table>
    </div>
  </body>
</html>